@using SAEON.Observations.QuerySite.Models
@model DataWizardModel
@{
    Html.EJ()
        .Button("btnLoadQuery")
        .Text("Load Query")
        .ShowRoundedCorner(true)
        .Type(ButtonType.Button)
        .Size(ButtonSize.Medium)
        .ContentType(ContentType.TextAndImage)
        .PrefixIcon("e-icon e-reload")
        .ClientSideEvents(e => e.Click("DataWizard.LoadQueryOpen"))
        .Enabled(Model.UserQueries.Count > 0)
        .Render();
    <span style="width:5px" />
    Html.EJ()
        .Dialog("dialogLoadQuery")
        .Title("Load query")
        .ShowOnInit(false)
        .Width("auto")
        .ClientSideEvents(ev => ev.Close("DataWizard.LoadQueryClose"))
        .ContentType("ajax")
        .ContentUrl("/DataWizard/GetLoadQueryDialog")
        .Render();
    Html.EJ()
        .Button("btnSaveQuery")
        .Text("Save Query")
        .ShowRoundedCorner(true)
        .Type(ButtonType.Button)
        .Size(ButtonSize.Medium)
        .ContentType(ContentType.TextAndImage)
        .PrefixIcon("e-icon e-save")
        .Enabled(false)
        .ClientSideEvents(e => e.Click("DataWizard.SaveQueryOpen"))
        .Render();
    <span style="width:5px" />
    Html.EJ()
        .Dialog("dialogSaveQuery")
        .Title("Save query")
        .ShowOnInit(false)
        .Width("auto")
        .ClientSideEvents(ev => ev.Close("DataWizard.SaveQueryClose"))
        .ContentType("ajax")
        .ContentUrl("/DataWizard/GetSaveQueryDialog")
        .Render();
    Html.EJ()
        .Button("btnSearch")
        .Text("Search")
        .ShowRoundedCorner(true)
        .Type(ButtonType.Button)
        .Size(ButtonSize.Medium)
        .ContentType(ContentType.TextAndImage)
        .PrefixIcon("e-icon e-search")
        .Enabled(false)
        .ClientSideEvents(e => e.Click("DataWizard.Search"))
        .Render();
    <span style="width:5px" />
    Html.EJ()
        .Button("btnDownload")
        .Text("Download")
        .ShowRoundedCorner(true)
        .Type(ButtonType.Button)
        .Size(ButtonSize.Medium)
        .ContentType(ContentType.TextAndImage)
        .PrefixIcon("e-icon e-dataexport")
        .Enabled(false)
        .ClientSideEvents(e => e.Click("DataWizard.DownloadOpen"))
        .Render();
    Html.EJ()
        .Dialog("dialogDownload")
        .Title("Data Download")
        .ShowOnInit(false)
        .Width("1024")
        //.Width("auto")
        .ClientSideEvents(ev => ev.Close("DataWizard.DownloadClose"))
        .ContentType("ajax")
        .ContentUrl("/DataWizard/GetDownloadDialog")
        .Render();
    Html.EJ()
        .Dialog("dialogDataset")
        .Title("Dataset Download")
        .ShowOnInit(false)
        .Width("1024")
        //.Width("auto")
        .ClientSideEvents(ev => ev.Close("DataWizard.DatasetClose"))
        .ContentType("ajax")
        .ContentUrl("/DataWizard/GetDatasetDialog")
        .Render();
    <span style="width:5px" />
    if (!Request.IsAuthenticated)
    {
        <i class="fa fa-info" data-toggle="tooltip" data-placement="bottom" title="Login to enable Load, Save, Download"></i>
    }
    else
    {
        <i class="fa fa-info" data-toggle="tooltip" data-placement="bottom" title="Search to enable Download"></i>
    }
    //Html.EJ()
    //    .Button("btnTest")
    //    .Text("Test")
    //    .ShowRoundedCorner(true)
    //    .Type(ButtonType.Button)
    //    .Size(ButtonSize.Medium)
    //    .ContentType(ContentType.TextOnly)
    //    .Enabled(true)
    //    .ClientSideEvents(e => e.Click("DataWizard.Test"))
    //    .Render();
}
